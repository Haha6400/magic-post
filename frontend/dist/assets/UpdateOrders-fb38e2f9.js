import{_ as R,a as b,r as _,o as i,c as u,b as t,k as T,e as d,d as O,v as B,h as E,f as p,g as c,u as C,t as h,p as N,i as V,l as L}from"./index-adea1279.js";import{l as a}from"./index-40db06c7.js";const x={data(){return{loading:!0,dialog:!1,orderStatus:null,updateOrderDialog:!1,newOrderStatus:"",dataList:[],page:1,itemsPerPage:6,search:"",headers:[{align:"center",key:"order_code",title:"Order Code"},{key:"receiverName",title:"Người nhận",align:"center"},{key:"fee",title:"Chi phí",align:"center"},{key:"receiver_fee",title:"Phí người nhận trả",align:"center"},{title:"Trạng thái đơn hàng",sortable:!1,align:"center",text:"Trạng thái đơn hàng",value:"statusDetail"},{title:"Chi tiết",sortable:!1,align:"center",text:"Chi tiết",value:"action"}]}},computed:{pageCount(){return Math.ceil(this.dataList.length/this.itemsPerPage)}},async created(){let l="http://localhost:3000/api/dashboard/avail";await b.post(l).then(e=>{console.log(e.data),this.dataList=e.data.result,this.loading=!1}).catch(e=>{console.log(e),a.error("???",{position:a.POSITION.BOTTOM_RIGHT})})},methods:{deleterFilter(){this.dialog=!1,this.orderStatus=null},deleteOrder(l){console.log(l),this.loading=!0;let e="http://localhost:3000/api/orders/delete/"+l;b.delete(e).then(g=>{console.log(g.data),console.log("delete"),this.getList(),this.loading=!0,a.success("Deleted successfully",{position:a.POSITION.BOTTOM_RIGHT})}).catch(g=>{console.log(g),a.error("Delete failed",{position:a.POSITION.BOTTOM_RIGHT})})},updateOrderStatus(l,e){console.log(l);let g="http://localhost:3000/api/orders/update/"+l;b.put(g,{status:this.newOrderStatus}).then(v=>{console.log(v.data),this.loading=!0,this.getList(),a.success("Successfully Updated",{position:a.POSITION.BOTTOM_RIGHT}),this.updateOrderDialog=null}).catch(v=>{console.log(v),a.error("Update failed",{position:a.POSITION.BOTTOM_RIGHT})})},async getList(){let l="http://localhost:3000/api/dashboard/avail";await b.post(l).then(e=>{console.log(e.data),this.dataList=e.data.result,this.loading=!1}).catch(e=>{console.log(e),a.error("???",{position:a.POSITION.BOTTOM_RIGHT})})}},components:{ChipCard}},n=l=>(N("data-v-eb7f7691"),l=l(),V(),l),P={class:"container"},U=n(()=>t("h1",{class:"loginHeader"},"Cập nhật đơn hàng",-1)),F={class:"buttonList"},M={class:"search-bar"},H=n(()=>t("button",{type:"submit"},[t("img",{src:L})],-1)),G=n(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z"})],-1)),A={class:"loading"},z=n(()=>t("div",{class:"popupHeader"},"Cập nhật trạng thái đơn hàng",-1)),j={class:"input-container"},X=n(()=>t("label",{for:"inputState"},"Trạng thái",-1)),q=n(()=>t("option",null,"PRE_TRANSIT",-1)),J=n(()=>t("option",null,"TRANSIT",-1)),K=n(()=>t("option",null,"DELIVERING",-1)),Q=n(()=>t("option",null,"DELIVERED",-1)),W=n(()=>t("option",null,"PRE-RETURN",-1)),Y=n(()=>t("option",null,"RETURNED",-1)),Z=[q,J,K,Q,W,Y],$={class:"bottomButton"},tt={style:{"background-color":"#ffe4b2"}},et=["onClick"],ot={style:{"background-color":"#99d9f2"}},st=["onClick"],nt={style:{"background-color":"#FFB9B9"}},lt=["onClick"],rt={style:{"background-color":"#D5FFB9"}},at=["onClick"],it={style:{"background-color":"#B9F9FF"}},dt=["onClick"],ct={style:{"background-color":"#B9D7FF"}},ut=["onClick"],pt={style:{"background-color":"#B9D7FF"}},_t=["onClick"],ht=n(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.2",stroke:"black",class:"w-6 h-6 icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)),gt=[ht],vt=n(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.2",stroke:"black",class:"w-6 h-6 icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})],-1)),kt={class:"text-center pt-2"},bt=n(()=>t("div",{class:"popupHeader"},"Bộ lọc",-1)),ft={class:"input-container"},Ot=n(()=>t("label",{for:"inputState"},"Trạng thái",-1)),mt=n(()=>t("option",null,"Còn trong kho",-1)),Tt=[mt],Ct={class:"bottomButton"};function wt(l,e,g,v,s,k){const w=_("ChipCard"),y=_("v-progress-circular"),f=_("v-card"),m=_("v-dialog"),S=_("router-link"),I=_("v-pagination"),D=_("v-data-table");return i(),u("div",P,[U,t("div",F,[s.orderStatus?(i(),T(w,{key:0,title:"Trạng thái",content:s.orderStatus},null,8,["content"])):d("",!0),t("form",M,[O(t("input",{class:"search-box",type:"text",placeholder:"Tìm kiếm đơn hàng","onUpdate:modelValue":e[0]||(e[0]=o=>s.search=o)},null,512),[[B,s.search]]),H]),t("button",{class:"signup",type:"button",onClick:e[1]||(e[1]=o=>s.dialog=!0)},[E(" Bộ lọc "),G])]),t("div",A,[s.loading?(i(),T(y,{key:0,color:"#ffa500","align-items":"center",indeterminate:"",size:34})):d("",!0)]),p(f,{flat:"",title:""},{default:c(()=>[p(D,{page:s.page,"onUpdate:page":e[8]||(e[8]=o=>s.page=o),headers:s.headers,"items-per-page":s.itemsPerPage,items:s.dataList,search:s.search},{"item.statusDetail":c(({item:o})=>[p(m,{modelValue:s.updateOrderDialog,"onUpdate:modelValue":e[5]||(e[5]=r=>s.updateOrderDialog=r),persistent:"",width:"800"},{default:c(()=>[p(f,null,{default:c(()=>[z,t("div",j,[X,O(t("select",{id:"inputState",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=r=>s.newOrderStatus=r)},Z,512),[[C,s.newOrderStatus]])]),t("div",$,[t("button",{onClick:e[3]||(e[3]=r=>s.updateOrderDialog=!1),class:"btn btn--green-1",style:{width:"fit-content"}}," Đóng "),t("button",{onClick:e[4]||(e[4]=r=>k.updateOrderStatus(s.updateOrderDialog,s.newOrderStatus)),class:"btn btn--green-1",style:{width:"fit-content"}}," Cập nhật ")])]),_:1})]),_:1},8,["modelValue"]),o.status=="DELIVERING"?(i(),u("button",{key:0,onClick:e[6]||(e[6]=r=>s.updateOrderDialog=!0),class:"status"},[t("p",tt,h(o.status),1)])):d("",!0),o.status=="TRANSIT"?(i(),u("button",{key:1,onClick:r=>s.updateOrderDialog=o.order_code,class:"status"},[t("p",ot,h(o.status),1)],8,et)):d("",!0),o.status=="PRE_TRANSIT"?(i(),u("button",{key:2,onClick:r=>s.updateOrderDialog=o.order_code,class:"status"},[t("p",nt,h(o.status),1)],8,st)):d("",!0),o.status=="DELIVERING"?(i(),u("button",{key:3,onClick:r=>s.updateOrderDialog=o.order_code,class:"status"},[t("p",rt,h(o.status),1)],8,lt)):d("",!0),o.status=="DELIVERED"?(i(),u("button",{key:4,onClick:r=>s.updateOrderDialog=o.order_code,class:"status"},[t("p",it,h(o.status),1)],8,at)):d("",!0),o.status=="PRE-RETURN"?(i(),u("button",{key:5,onClick:r=>s.updateOrderDialog=o.order_code,class:"status"},[t("p",ct,h(o.status),1)],8,dt)):d("",!0),o.status=="RETURNED"?(i(),u("button",{key:6,onClick:r=>s.updateOrderDialog=o.order_code,class:"status"},[t("p",pt,h(o.status),1)],8,ut)):d("",!0)]),"item.action":c(({item:o})=>[t("button",{onClick:r=>k.deleteOrder(o.order_code)},gt,8,_t),t("button",null,[p(S,{to:{name:"orderDetailbyHubStaff",params:{id:o.order_code}}},{default:c(()=>[vt]),_:2},1032,["to"])])]),bottom:c(()=>[t("div",kt,[p(I,{modelValue:s.page,"onUpdate:modelValue":e[7]||(e[7]=o=>s.page=o),length:k.pageCount},null,8,["modelValue","length"])])]),_:1},8,["page","headers","items-per-page","items","search"])]),_:1}),p(m,{modelValue:s.dialog,"onUpdate:modelValue":e[13]||(e[13]=o=>s.dialog=o),persistent:"",width:"800"},{default:c(()=>[p(f,null,{default:c(()=>[bt,t("div",ft,[Ot,O(t("select",{id:"inputState",class:"form-control","onUpdate:modelValue":e[9]||(e[9]=o=>s.orderStatus=o)},Tt,512),[[C,s.orderStatus]])]),t("div",Ct,[t("button",{onClick:[e[10]||(e[10]=o=>s.dialog=!1),e[11]||(e[11]=o=>l.getListFiltered())],class:"btn btn--green-1",style:{width:"fit-content"}}," Đóng "),t("button",{onClick:e[12]||(e[12]=o=>k.deleterFilter()),class:"btn btn--green-1",style:{width:"fit-content"}}," Xóa bộ lọc ")])]),_:1})]),_:1},8,["modelValue"])])}const It=R(x,[["render",wt],["__scopeId","data-v-eb7f7691"]]);export{It as default};
