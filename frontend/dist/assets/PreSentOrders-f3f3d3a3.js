import{_ as L,a as g,r as d,o as r,c as h,b as e,k,e as u,d as f,v as C,h as x,f as p,g as c,t as _,u as B,p as P,i as N,l as M}from"./index-adea1279.js";import{l as a}from"./index-40db06c7.js";g.defaults.headers.common.authorization=localStorage.getItem("token");const V={data(){return{loading:!0,dialog:!1,orderStatus:null,updateOrderDialog:!1,newOrderStatus:"",dataList:[],dataListLength:0,page:1,itemsPerPage:6,search:"",headers:[{align:"center",key:"order_code",title:"Order Code"},{key:"receiverName",title:"Người nhận",align:"center"},{key:"fee",title:"Chi phí",align:"center"},{key:"receiver_fee",title:"Phí người nhận trả",align:"center"},{key:"status",title:"Trạng thái đơn hàng",align:"center"},{title:"Cập nhật",sortable:!1,align:"center",text:"Xác nhận",value:"update"},{title:"Chi tiết",sortable:!1,align:"center",text:"Chi tiết",value:"action"}]}},computed:{pageCount(){return Math.ceil(this.dataListLength/this.itemsPerPage)}},async created(){let n="http://localhost:3000/api/workplace/coming/send";await g.post(n).then(t=>{console.log(t.data),this.dataList=t.data.result,this.dataListLength=t.data.count,this.loading=!1}).catch(t=>{console.log(t),a.error("SOS",{position:a.POSITION.BOTTOM_RIGHT})})},methods:{deleterFilter(){this.dialog=!1,this.orderStatus=null},deleteOrder(n){console.log(n),this.loading=!0;let t="http://localhost:3000/api/orders/delete/"+n;g.delete(t).then(i=>{console.log(i.data),console.log("delete"),this.getList(),this.loading=!0,a.success("Deleted successfully",{position:a.POSITION.BOTTOM_RIGHT})}).catch(i=>{console.log(i),a.error("Delete failed",{position:a.POSITION.BOTTOM_RIGHT})})},verifyOrder(n){let t="http://localhost:3000/api/workplace/confirm/send/"+n;g.put(t).then(i=>{console.log(i.data),this.loading=!0,this.getList(),a.success("Successfully Updated",{position:a.POSITION.BOTTOM_RIGHT})}).catch(i=>{console.log(i),a.error("Update failed",{position:a.POSITION.BOTTOM_RIGHT})})},async getList(){let n="http://localhost:3000/api/workplace/coming/send";await g.post(n).then(t=>{console.log(t.data),this.dataList=t.data.result,this.dataListLength=t.data.count,this.loading=!1}).catch(t=>{console.log(t),a.error("???",{position:a.POSITION.BOTTOM_RIGHT})})}}},l=n=>(P("data-v-8aa77aaa"),n=n(),N(),n),R={class:"container"},H=l(()=>e("h1",{class:"loginHeader"},"Xác nhận đơn hàng đi",-1)),A={class:"buttonList"},U={class:"search-bar"},D=l(()=>e("button",{type:"submit"},[e("img",{src:M})],-1)),E=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z"})],-1)),G={class:"loading"},z={key:0,class:"status"},j={style:{"background-color":"#ffe4b2"}},F={key:1,class:"status"},X={style:{"background-color":"#99d9f2"}},q={key:2,class:"status"},J={style:{"background-color":"#99f2b1"}},K={key:3,class:"status"},Q={style:{"background-color":"#b9d7ff"}},W={key:4,class:"status"},Y={style:{"background-color":"#ffb9b9"}},Z=["onClick"],$=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 01-1.043 3.296 3.745 3.745 0 01-3.296 1.043A3.745 3.745 0 0112 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 01-3.296-1.043 3.745 3.745 0 01-1.043-3.296A3.745 3.745 0 013 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 011.043-3.296 3.746 3.746 0 013.296-1.043A3.746 3.746 0 0112 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 013.296 1.043 3.746 3.746 0 011.043 3.296A3.745 3.745 0 0121 12z"})],-1)),tt=[$],et=["onClick"],ot=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.2",stroke:"black",class:"w-6 h-6 icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)),st=[ot],nt=l(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.2",stroke:"black",class:"w-6 h-6 icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})],-1)),at={class:"text-center pt-2"},lt=l(()=>e("div",{class:"popupHeader"},"Bộ lọc",-1)),it={class:"input-container"},rt=l(()=>e("label",{for:"inputState"},"Trạng thái",-1)),ct=l(()=>e("option",null,"Còn trong kho",-1)),dt=[ct],ut={class:"bottomButton"};function ht(n,t,i,pt,s,m){const b=d("ChipCard"),w=d("v-progress-circular"),T=d("router-link"),O=d("v-pagination"),y=d("v-data-table"),v=d("v-card"),S=d("v-dialog");return r(),h("div",R,[H,e("div",A,[s.orderStatus?(r(),k(b,{key:0,title:"Trạng thái",content:s.orderStatus},null,8,["content"])):u("",!0),e("form",U,[f(e("input",{class:"search-box",type:"text",placeholder:"Tìm kiếm đơn hàng","onUpdate:modelValue":t[0]||(t[0]=o=>s.search=o)},null,512),[[C,s.search]]),D]),e("button",{class:"signup",type:"button",onClick:t[1]||(t[1]=o=>s.dialog=!0)},[x(" Bộ lọc "),E])]),e("div",G,[s.loading?(r(),k(w,{key:0,color:"#ffa500","align-items":"center",indeterminate:"",size:34})):u("",!0)]),p(v,{flat:"",title:""},{default:c(()=>[p(y,{page:s.page,"onUpdate:page":t[3]||(t[3]=o=>s.page=o),headers:s.headers,"items-per-page":s.itemsPerPage,items:s.dataList,search:s.search},{"item.status":c(({item:o})=>[o.status=="DELIVERING"?(r(),h("button",z,[e("p",j,_(o.status),1)])):u("",!0),o.status=="TRANSIT"?(r(),h("button",F,[e("p",X,_(o.status),1)])):u("",!0),o.status=="PRE_TRANSIT"?(r(),h("button",q,[e("p",J,_(o.status),1)])):u("",!0),o.status=="PRE-RETURN"?(r(),h("button",K,[e("p",Q,_(o.status),1)])):u("",!0),o.status=="FAILURE"?(r(),h("button",W,[e("p",Y,_(o.status),1)])):u("",!0)]),"item.update":c(({item:o})=>[e("button",{onClick:I=>m.verifyOrder(o.order_code)},tt,8,Z)]),"item.action":c(({item:o})=>[e("button",{onClick:I=>m.deleteOrder(o.order_code)},st,8,et),e("button",null,[p(T,{to:{name:"orderDetailbyHubStaff",params:{id:o.order_code}}},{default:c(()=>[nt]),_:2},1032,["to"])])]),bottom:c(()=>[e("div",at,[p(O,{modelValue:s.page,"onUpdate:modelValue":t[2]||(t[2]=o=>s.page=o),length:m.pageCount},null,8,["modelValue","length"])])]),_:1},8,["page","headers","items-per-page","items","search"])]),_:1}),p(S,{modelValue:s.dialog,"onUpdate:modelValue":t[8]||(t[8]=o=>s.dialog=o),persistent:"",width:"800"},{default:c(()=>[p(v,null,{default:c(()=>[lt,e("div",it,[rt,f(e("select",{id:"inputState",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=o=>s.orderStatus=o)},dt,512),[[B,s.orderStatus]])]),e("div",ut,[e("button",{onClick:[t[5]||(t[5]=o=>s.dialog=!1),t[6]||(t[6]=o=>n.getListFiltered())],class:"btn btn--green-1",style:{width:"fit-content"}}," Đóng "),e("button",{onClick:t[7]||(t[7]=o=>m.deleterFilter()),class:"btn btn--green-1",style:{width:"fit-content"}}," Xóa bộ lọc ")])]),_:1})]),_:1},8,["modelValue"])])}const mt=L(V,[["render",ht],["__scopeId","data-v-8aa77aaa"]]);export{mt as default};
