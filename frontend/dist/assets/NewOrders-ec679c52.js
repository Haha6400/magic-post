import{n as g,_ as P,a as I,o as a,c,b as e,q as R,F as O,s as U,d,v as m,e as _,u as S,x as j,t as L,p as H,i as q}from"./index-adea1279.js";import{l as E}from"./index-40db06c7.js";var B={exports:{}};(function(p,n){(function(b,v){v()})(g,function(){function b(o,i){return typeof i>"u"?i={autoBom:!1}:typeof i!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}function v(o,i,h){var r=new XMLHttpRequest;r.open("GET",o),r.responseType="blob",r.onload=function(){w(r.response,i,h)},r.onerror=function(){console.error("could not download file")},r.send()}function s(o){var i=new XMLHttpRequest;i.open("HEAD",o,!1);try{i.send()}catch{}return 200<=i.status&&299>=i.status}function f(o){try{o.dispatchEvent(new MouseEvent("click"))}catch{var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(i)}}var t=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof g=="object"&&g.global===g?g:void 0,T=t.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),w=t.saveAs||(typeof window!="object"||window!==t?function(){}:"download"in HTMLAnchorElement.prototype&&!T?function(o,i,h){var r=t.URL||t.webkitURL,u=document.createElement("a");i=i||o.name||"download",u.download=i,u.rel="noopener",typeof o=="string"?(u.href=o,u.origin===location.origin?f(u):s(u.href)?v(o,i,h):f(u,u.target="_blank")):(u.href=r.createObjectURL(o),setTimeout(function(){r.revokeObjectURL(u.href)},4e4),setTimeout(function(){f(u)},0))}:"msSaveOrOpenBlob"in navigator?function(o,i,h){if(i=i||o.name||"download",typeof o!="string")navigator.msSaveOrOpenBlob(b(o,h),i);else if(s(o))v(o,i,h);else{var r=document.createElement("a");r.href=o,r.target="_blank",setTimeout(function(){f(r)})}}:function(o,i,h,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),typeof o=="string")return v(o,i,h);var u=o.type==="application/octet-stream",V=/constructor/i.test(t.HTMLElement)||t.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||u&&V||T)&&typeof FileReader<"u"){var x=new FileReader;x.onloadend=function(){var y=x.result;y=A?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=y:location=y,r=null},x.readAsDataURL(o)}else{var N=t.URL||t.webkitURL,k=N.createObjectURL(o);r?r.location=k:location.href=k,r=null,setTimeout(function(){N.revokeObjectURL(k)},4e4)}});t.saveAs=w.saveAs=w,p.exports=w})})(B);var C=B.exports;const M={data(){return{step:1,numStep:4,brachID:"",senderName:"",senderAddress:"",senderPhone:"",receiverName:"",receiverAddress:"",receiverPhone:"",type:"",amount:"",price:"",actual_mass:"",special_service:"",instruction:"",sender_commitment:"",note:"",receiverBranchName:"",dataList:[]}},async created(){let p="http://localhost:3000/api/workplace/all/hub";await I.get(p).then(n=>{console.log(n.data),this.dataList=n.data.hub}).catch(n=>{console.log(n)})},methods:{async newOrder(){let p="http://localhost:3000/api/orders/create";await I.post(p,{type:this.type,note:this.note,senderName:this.senderName,senderAddress:this.senderAddress,senderPhone:this.senderPhone,receiverName:this.receiverName,receiverAddress:this.receiverAddress,receiverPhone:this.receiverPhone,amount:this.amount,price:this.amount*1e4,actual_mass:this.mass,receiverBranchName:this.receiverBranchName}).then(n=>{console.log(n.data),E.success("Create success",{position:E.POSITION.BOTTOM_RIGHT}),this.printOrder(n.data._id,n.data.order_code),this.step=1,this.senderName="",this.senderAddress="",this.senderPhone="",this.receiverName="",this.receiverAddress="",this.receiverPhone="",this.type="",this.amount="",this.price="",this.actual_mass="",this.special_service="",this.instruction="",this.sender_commitment="",this.note=""}).catch(n=>{console.log(n),E.error("Error",{position:E.POSITION.BOTTOM_RIGHT})})},async printOrder(p,n){let b="http://localhost:3000/api/orders/label/"+p,v="[magic_post] "+n;I.get(b,{responseType:"blob"}).then(s=>{C.saveAs(s.data,v)}).catch(s=>{console.log(s)})}}},l=p=>(H("data-v-06e8780f"),p=p(),q(),p),F={class:"container"},D=l(()=>e("div",{class:"header"},[e("h1",{class:"loginHeader"},"Tạo đơn hàng"),e("p",{class:"discription"},"Hoàn thiện đầy đủ thông tin để đến bước thiếp theo")],-1)),G={class:"wrapper-stepper"},z={class:"stepper"},K={class:"stepper-progress"},X={class:"stepper-item-counter"},Q=l(()=>e("img",{class:"icon-success",src:"https://www.seekpng.com/png/full/134-1348364_white-check-mark-transparent-background.png",alt:"",style:{color:"black"}},null,-1)),W={class:"number"},J={key:0,class:"stepper-item-title"},Y={key:1,class:"stepper-item-title"},Z={key:2,class:"stepper-item-title"},$={key:3,class:"stepper-item-title"},ee={class:"stepper-content"},te={key:0,class:"stepper-pane"},se={class:"form-container"},ne={class:"input-container"},oe=l(()=>e("label",{for:"exampleInputEmail1",class:"form-label"},"Họ và tên",-1)),ie={class:"input-container"},re=l(()=>e("label",{for:"exampleInputEmail1",class:"form-label"},"Địa chỉ",-1)),le={class:"input-container"},ae=l(()=>e("label",{for:"exampleInputEmail1",class:"form-label"},"Số điện thoại",-1)),ce={key:1,class:"stepper-pane"},de={class:"form-container"},pe={class:"input-container"},ue=l(()=>e("label",{for:"exampleInputEmail1",class:"form-label"},"Họ và tên",-1)),me={class:"input-container"},he=l(()=>e("label",{for:"exampleInputEmail1",class:"form-label"},"Địa chỉ",-1)),_e={class:"input-container"},ve=l(()=>e("label",{for:"exampleInputEmail1",class:"form-label"},"Số điện thoại",-1)),fe={key:2,class:"stepper-pane"},be={class:"form-container"},ye={class:"row-container"},ge={class:"input-container"},we=l(()=>e("label",{for:"inputState"},"Loại hàng hóa",-1)),Ee=l(()=>e("option",{selected:""},"Tài liệu",-1)),xe=l(()=>e("option",null,"Hàng hóa",-1)),ke=[Ee,xe],Ie={class:"input-container"},Se=l(()=>e("label",{for:"exampleInputEmail1",class:"form-label"},"Số lượng",-1)),Te={class:"row-container"},Ae={class:"input-container"},Ne=l(()=>e("label",{for:"exampleInputEmail1",class:"form-label"},"Trị giá",-1)),Oe={class:"input-container"},Ue=l(()=>e("label",{for:"exampleInputEmail1",class:"form-label"},"Khối lượng",-1)),Le={class:"input-container"},Be=l(()=>e("label",{for:"exampleInputEmail1",class:"form-label"},"Dịch vụ đặc biệt",-1)),Ve={key:3,class:"stepper-pane"},Pe={class:"form-container"},Re={class:"input-container"},je=l(()=>e("label",{for:"inputState"},"Chỉ dẫn nếu không thể gửi hàng hóa",-1)),He=l(()=>e("option",{selected:""},"Chuyển hoàn ngay",-1)),qe=l(()=>e("option",null,"Chuyển hoàn trước ngày",-1)),Ce=l(()=>e("option",null,"Chuyển hoàn trước khi thời gian lưu trữ",-1)),Me=l(()=>e("option",null,"Hủy",-1)),Fe=[He,qe,Ce,Me],De={class:"input-container"},Ge=l(()=>e("label",{for:"inputState"},"Địa chỉ hub đích",-1)),ze=["value"],Ke={class:"input-container"},Xe=l(()=>e("label",{for:"exampleInputEmail1",class:"form-label"},"Chú dẫn nghiệp vụ",-1)),Qe={class:"controls"},We=["disabled"],Je=["disabled"];function Ye(p,n,b,v,s,f){return a(),c("div",F,[D,e("div",G,[e("div",z,[e("div",K,[e("div",{class:"stepper-progress-bar",style:R("width:"+p.stepperProgress)},null,4)]),(a(!0),c(O,null,U(s.numStep,t=>(a(),c("div",{class:j(["stepper-item",{current:s.step==t,success:s.step>t}]),key:t},[e("div",X,[Q,e("span",W,L(t),1)]),t==1?(a(),c("span",J,"Thông tin người gửi ")):_("",!0),t==2?(a(),c("span",Y,"Thông tin người nhận ")):_("",!0),t==3?(a(),c("span",Z,"Thông tin gói hàng ")):_("",!0),t==4?(a(),c("span",$,"Thông tin khác ")):_("",!0)],2))),128))]),e("div",ee,[s.step==1?(a(),c("div",te,[e("form",null,[e("div",se,[e("div",ne,[oe,d(e("input",{class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":n[0]||(n[0]=t=>s.senderName=t),required:""},null,512),[[m,s.senderName]])]),e("div",ie,[re,d(e("input",{class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":n[1]||(n[1]=t=>s.senderAddress=t),required:""},null,512),[[m,s.senderAddress]])]),e("div",le,[ae,d(e("input",{class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":n[2]||(n[2]=t=>s.senderPhone=t),required:""},null,512),[[m,s.senderPhone]])])])])])):_("",!0),s.step==2?(a(),c("div",ce,[e("form",null,[e("div",de,[e("div",pe,[ue,d(e("input",{class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":n[3]||(n[3]=t=>s.receiverName=t),required:""},null,512),[[m,s.receiverName]])]),e("div",me,[he,d(e("input",{class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":n[4]||(n[4]=t=>s.receiverAddress=t),required:""},null,512),[[m,s.receiverAddress]])]),e("div",_e,[ve,d(e("input",{class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":n[5]||(n[5]=t=>s.receiverPhone=t),required:""},null,512),[[m,s.receiverPhone]])])])])])):_("",!0),s.step==3?(a(),c("div",fe,[e("form",null,[e("div",be,[e("div",ye,[e("div",ge,[we,d(e("select",{id:"inputState",class:"form-control","onUpdate:modelValue":n[6]||(n[6]=t=>s.type=t)},ke,512),[[S,s.type]])]),e("div",Ie,[Se,d(e("input",{class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":n[7]||(n[7]=t=>s.amount=t),required:""},null,512),[[m,s.amount]])])]),e("div",Te,[e("div",Ae,[Ne,d(e("input",{class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":n[8]||(n[8]=t=>s.price=t),required:""},null,512),[[m,s.price]])]),e("div",Oe,[Ue,d(e("input",{class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":n[9]||(n[9]=t=>s.actual_mass=t)},null,512),[[m,s.actual_mass]])])]),e("div",Le,[Be,d(e("input",{class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":n[10]||(n[10]=t=>s.special_service=t)},null,512),[[m,s.special_service]])])])])])):_("",!0),s.step==4?(a(),c("div",Ve,[e("form",null,[e("div",Pe,[e("div",Re,[je,d(e("select",{id:"inputState",class:"form-control","onUpdate:modelValue":n[11]||(n[11]=t=>s.instruction=t)},Fe,512),[[S,s.instruction]])]),e("div",De,[Ge,d(e("select",{id:"inputState",class:"form-control","onUpdate:modelValue":n[12]||(n[12]=t=>s.receiverBranchName=t)},[(a(!0),c(O,null,U(s.dataList,t=>(a(),c("option",{value:t.name,key:t._id},L(t.name),9,ze))),128))],512),[[S,s.receiverBranchName]])]),e("div",Ke,[Xe,d(e("input",{class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":n[13]||(n[13]=t=>s.note=t),required:""},null,512),[[m,s.note]])])])])])):_("",!0)]),e("div",Qe,[e("button",{class:"btn",onClick:n[14]||(n[14]=t=>s.step--),disabled:s.step==1},"Quay lại",8,We),s.step!=4?(a(),c("button",{key:0,class:"btn btn--green-1",onClick:n[15]||(n[15]=t=>s.step++),disabled:s.step==s.numStep}," Tiếp ",8,Je)):_("",!0),s.step==4?(a(),c("button",{key:1,class:"btn btn--green-1",onClick:n[16]||(n[16]=t=>f.newOrder()),style:{width:"fit-content"}}," Tạo đơn hàng ")):_("",!0)])])])}const et=P(M,[["render",Ye],["__scopeId","data-v-06e8780f"]]);export{et as default};
