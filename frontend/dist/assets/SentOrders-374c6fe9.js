import{_ as O,a as d,r,o as i,c as f,b as o,k as u,e as g,h as T,f as c,g as h,d as _,u as k,F as D,s as V,t as x,v as b,p as B,i as I}from"./index-adea1279.js";d.defaults.headers.common.authorization=localStorage.getItem("token");const M={data(){return{loading:!0,dialog:!1,recieverName:"",hubList:[],warehouseList:[],start:null,end:null,orderStatus:null,dataList:[],page:1,itemsPerPage:6,search:"",role:"",senderBranch:"",headers:[{align:"center",key:"order_code",title:"Order Code"},{key:"receiverName",title:"Người nhận",align:"center"},{key:"fee",title:"Chi phí",align:"center"},{key:"receiver_fee",title:"Phí người nhận phải trả",align:"center"},{key:"status",title:"Trạng thái đơn hàng",align:"center"},{title:"Chi tiết",sortable:!1,align:"center",text:"Chi tiết",value:"action"}]}},computed:{pageCount(){return Math.ceil(this.dataList.length/this.itemsPerPage)}},async created(){let s=localStorage.getItem("userData"),t=JSON.parse(s);this.role=t.account.role;let p="http://localhost:3000/api/workplace/all/warehouse/name";await d.get(p).then(n=>{console.log(n.data),this.warehouseList=n.data.warehouseName}).catch(n=>{console.log(n)}),this.getDefaultList()},methods:{deleterFilter(){this.senderName=null,this.start=null,this.end=null,this.dialog=!1,this.orderStatus=null,this.getDefaultList()},async getListFiltered(){this.dialog=!1;let s="";this.orderStatus||(this.recieverName&&(this.loading=!0,s="http://localhost:3000/api/hub/send/all/wh",await d.post(s,{start:this.start,end:this.end,warehouseName:this.recieverName}).then(t=>{console.log(t.data),this.dataList=t.data.orders,this.loading=!1}).catch(t=>{console.log(t),toast.error("???",{position:toast.POSITION.BOTTOM_RIGHT})})),this.recieverName||(this.loading=!0,s="http://localhost:3000/api/hub/send/all",await d.post(s,{start:this.start,end:this.end}).then(t=>{console.log(t.data),this.dataList=t.data.order,this.loading=!1}).catch(t=>{console.log(t),toast.error("???",{position:toast.POSITION.BOTTOM_RIGHT})}))),this.orderStatus&&(this.recieverName&&(this.loading=!0,s="http://localhost:3000/api/hub/send/available/wh",await d.post(s,{start:this.start,end:this.end,warehouseName:this.recieverName}).then(t=>{console.log(t.data),this.dataList=t.data.orders,this.loading=!1}).catch(t=>{console.log(t)})),this.recieverName||(this.loading=!0,s="http://localhost:3000/api/hub/send/available",await d.post(s,{start:this.start,end:this.end}).then(t=>{console.log(t.data),this.dataList=t.data.orders,this.loading=!1}).catch(t=>{console.log(t)})))},getDate(){const s=new Date;return s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate()},async getDefaultList(){const s=new Date,t=s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate();let p="http://localhost:3000/api/hub/send/all";await d.post(p,{start:"2023-11-01",end:t}).then(n=>{console.log(n.data),this.dataList=n.data.orders,this.loading=!1}).catch(n=>{console.log(n),toast.error("???",{position:toast.POSITION.BOTTOM_RIGHT})})}},components:{ChipCard}},l=s=>(B("data-v-1247c314"),s=s(),I(),s),P={class:"container"},F=l(()=>o("h1",{class:"loginHeader"},"Đơn hàng gửi",-1)),H={class:"buttonList"},U=l(()=>o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z"})],-1)),z={class:"loading"},j=["onClick"],G=l(()=>o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.2",stroke:"black",class:"w-6 h-6 icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)),R=[G],A=l(()=>o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.2",stroke:"black",class:"w-6 h-6 icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})],-1)),Y={class:"text-center pt-2"},E=l(()=>o("div",{class:"popupHeader"},"Bộ lọc",-1)),J={class:"input-container"},K=l(()=>o("label",{for:"inputState"},"Trạng thái",-1)),X=l(()=>o("option",null,"Còn trong kho",-1)),q=[X],Q={class:"input-container"},W=l(()=>o("label",{for:"inputState"},"Nơi gửi",-1)),Z={class:"input-container"},$=l(()=>o("label",{for:"startDate"},"Ngày bắt đầu",-1)),tt={class:"input-container"},et=l(()=>o("label",{for:"startDate"},"Ngày kết thúc",-1)),ot={class:"bottomButton"};function st(s,t,p,n,e,v){const m=r("ChipCard"),N=r("v-progress-circular"),y=r("router-link"),S=r("v-pagination"),L=r("v-data-table"),w=r("v-card"),C=r("v-dialog");return i(),f("div",P,[F,o("div",H,[e.orderStatus?(i(),u(m,{key:0,title:"Trạng thái",content:e.orderStatus},null,8,["content"])):g("",!0),e.recieverName?(i(),u(m,{key:1,title:"Đến từ",content:e.recieverName},null,8,["content"])):g("",!0),e.start?(i(),u(m,{key:2,title:"Bắt đầu",content:e.start},null,8,["content"])):g("",!0),e.end?(i(),u(m,{key:3,title:"Kết thúc",content:e.end},null,8,["content"])):g("",!0),o("button",{class:"signup",type:"button",onClick:t[0]||(t[0]=a=>e.dialog=!0)},[T(" Bộ lọc "),U])]),o("div",z,[e.loading?(i(),u(N,{key:0,color:"#ffa500","align-items":"center",indeterminate:"",size:34})):g("",!0)]),c(w,{flat:"",title:""},{default:h(()=>[c(L,{page:e.page,"onUpdate:page":t[2]||(t[2]=a=>e.page=a),headers:e.headers,"items-per-page":e.itemsPerPage,items:e.dataList,search:e.search},{"item.action":h(({item:a})=>[o("button",{onClick:at=>s.deleteOrder(a.order_code)},R,8,j),o("button",null,[c(y,{to:{name:"orderDetailbyHubStaff",params:{id:a.order_code}}},{default:h(()=>[A]),_:2},1032,["to"])])]),bottom:h(()=>[o("div",Y,[c(S,{modelValue:e.page,"onUpdate:modelValue":t[1]||(t[1]=a=>e.page=a),length:v.pageCount},null,8,["modelValue","length"])])]),_:1},8,["page","headers","items-per-page","items","search"])]),_:1}),c(C,{modelValue:e.dialog,"onUpdate:modelValue":t[10]||(t[10]=a=>e.dialog=a),persistent:"",width:"1024"},{default:h(()=>[c(w,null,{default:h(()=>[E,o("div",J,[K,_(o("select",{id:"inputState",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=a=>e.orderStatus=a)},q,512),[[k,e.orderStatus]])]),o("div",Q,[W,_(o("select",{id:"inputState",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=a=>e.recieverName=a)},[(i(!0),f(D,null,V(e.warehouseList,a=>(i(),f("option",null,x(a),1))),256))],512),[[k,e.recieverName]])]),o("div",Z,[$,_(o("input",{id:"startDate",class:"form-control",type:"date","onUpdate:modelValue":t[5]||(t[5]=a=>e.start=a)},null,512),[[b,e.start]])]),o("div",tt,[et,_(o("input",{id:"startDate",class:"form-control",type:"date","onUpdate:modelValue":t[6]||(t[6]=a=>e.end=a)},null,512),[[b,e.end]])]),o("div",ot,[o("button",{onClick:[t[7]||(t[7]=a=>e.dialog=!1),t[8]||(t[8]=a=>v.getListFiltered())],class:"btn btn--green-1",style:{width:"fit-content"}}," Đóng "),o("button",{onClick:t[9]||(t[9]=a=>v.deleterFilter()),class:"btn btn--green-1",style:{width:"fit-content"}}," Xóa bộ lọc ")])]),_:1})]),_:1},8,["modelValue"])])}const lt=O(M,[["render",st],["__scopeId","data-v-1247c314"]]);export{lt as default};
