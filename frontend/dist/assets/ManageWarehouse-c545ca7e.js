import{_ as V,a as d,r as n,o as c,c as u,b as t,d as m,v as g,k as C,e as L,f as i,g as l,h as _,t as v,F as B,s as I,p as N,i as S,l as T}from"./index-adea1279.js";d.defaults.headers.common.authorization=localStorage.getItem("token");const M={data(){return{dialog:!1,loading:!0,warehouseList:[],page:1,itemsPerPage:3,search:"",headers:[{text:"1",value:"num",title:"Số thứ tự",sortable:!1},{key:"name",title:"Tên điểm tập kết",align:"center"},{value:"hubName",title:"Các điểm giao dịch",align:"center"},{title:"Chi tiết",sortable:!1,align:"center",text:"Chi tiết",value:"action"}]}},computed:{pageCount(){return Math.ceil(this.warehouseList.length/this.itemsPerPage)}},async created(){let s="http://localhost:3000/api/workplace/all/warehouse";await d.get(s).then(e=>{console.log(e.data),this.warehouseList=e.data.allWarehouse,this.loading=!1}).catch(e=>{console.log(e)})},methods:{async createWarehouse(){let s="http://localhost:3000/api/workplace/create/warehouse";await d.post(s,{name:this.name}).then(e=>{console.log(e.data),this.dialog=!1,this.getList()}).catch(e=>{console.log(e)})},async getList(){let s="http://localhost:3000/api/workplace/all/warehouse";await d.get(s).then(e=>{console.log(e.data),this.warehouseList=e.data.warehouse.allWarehouse,this.loading=!1}).catch(e=>{console.log(e)})}}},r=s=>(N("data-v-7d395758"),s=s(),S(),s),P={class:"container"},W=r(()=>t("h1",{class:"loginHeader"},"Quản lý điểm tập kết",-1)),U={class:"buttonList"},z={class:"search-bar"},E=r(()=>t("button",{type:"submit"},[t("img",{src:T})],-1)),H={class:"loading"},D=r(()=>t("br",null,null,-1)),F=r(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.2",stroke:"black",class:"w-6 h-6 icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})],-1)),j={class:"text-center pt-2"},q=r(()=>t("div",{class:"popupHeader"},"Tạo điểm tập kết mới",-1)),Q={class:"input-container"},A=r(()=>t("label",{for:"exampleInputEmail1",class:"form-label"},"Tên điểm tập kết",-1)),G={class:"bottomButton"};function J(s,e,K,O,a,p){const w=n("v-progress-circular"),f=n("router-link"),b=n("v-pagination"),k=n("v-data-table"),h=n("v-card"),x=n("v-dialog");return c(),u("div",P,[W,t("div",U,[t("form",z,[m(t("input",{class:"search-box",type:"text",placeholder:"Tìm kiếm","onUpdate:modelValue":e[0]||(e[0]=o=>a.search=o)},null,512),[[g,a.search]]),E]),t("button",{class:"signup",type:"button",onClick:e[1]||(e[1]=o=>a.dialog=!0)},"+ Tạo điểm mới")]),t("div",H,[a.loading?(c(),C(w,{key:0,color:"#ffa500","align-items":"center",indeterminate:"",size:34})):L("",!0)]),i(h,{flat:"",title:""},{default:l(()=>[i(k,{page:a.page,"onUpdate:page":e[3]||(e[3]=o=>a.page=o),headers:a.headers,"items-per-page":a.itemsPerPage,items:a.warehouseList,search:a.search},{"item.num":l(({index:o})=>[_(v(o+1),1)]),"item.hubName":l(({item:o})=>[(c(!0),u(B,null,I(o.lowerBranchName,y=>(c(),u("div",null,[_(v(y)+" ",1),D]))),256))]),"item.action":l(({item:o})=>[t("button",null,[i(f,{to:{name:"workplaceStatistics",params:{id:o._id}}},{default:l(()=>[F]),_:2},1032,["to"])])]),bottom:l(()=>[t("div",j,[i(b,{modelValue:a.page,"onUpdate:modelValue":e[2]||(e[2]=o=>a.page=o),length:p.pageCount},null,8,["modelValue","length"])])]),_:1},8,["page","headers","items-per-page","items","search"])]),_:1}),i(x,{modelValue:a.dialog,"onUpdate:modelValue":e[7]||(e[7]=o=>a.dialog=o),persistent:"",width:"1024"},{default:l(()=>[i(h,null,{default:l(()=>[q,t("div",Q,[A,m(t("input",{class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":e[4]||(e[4]=o=>s.name=o),required:""},null,512),[[g,s.name]])]),t("div",G,[t("button",{onClick:e[5]||(e[5]=o=>a.dialog=!1),class:"btn btn--green-1",style:{width:"fit-content"}}," Đóng "),t("button",{onClick:e[6]||(e[6]=o=>p.createWarehouse()),class:"btn btn--green-1",style:{width:"fit-content"}}," Lưu ")])]),_:1})]),_:1},8,["modelValue"])])}const X=V(M,[["render",J],["__scopeId","data-v-7d395758"]]);export{X as default};
