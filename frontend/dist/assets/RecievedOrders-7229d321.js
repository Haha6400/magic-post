import{_ as N,o as i,c as f,b as o,t as w,a as c,r as d,k as p,e as g,h as T,f as h,g as u,d as v,u as k,F as D,s as I,v as y,p as V,i as B}from"./index-adea1279.js";const M={name:"chip",props:["title","content"]},P={class:"chip-container"};function F(s,t,r,a,e,_){return i(),f("div",P,[o("p",null,w(r.title)+": "+w(r.content),1)])}const H=N(M,[["render",F],["__scopeId","data-v-620e9b95"]]);c.defaults.headers.common.authorization=localStorage.getItem("token");const U={data(){return{loading:!0,dialog:!1,senderName:"",hubList:[],warehouseList:[],start:null,end:null,orderStatus:null,dataList:[],page:1,itemsPerPage:6,search:"",role:"",senderBranch:"",headers:[{align:"center",key:"order_code",title:"Order Code"},{key:"receiverName",title:"Người nhận",align:"center"},{key:"fee",title:"Chi phí",align:"center"},{key:"receiver_fee",title:"Phí người nhận phải trả",align:"center"},{key:"status",title:"Trạng thái đơn hàng",align:"center"},{title:"Chi tiết",sortable:!1,align:"center",text:"Chi tiết",value:"action"}]}},computed:{pageCount(){return Math.ceil(this.dataList.length/this.itemsPerPage)}},async created(){let s=localStorage.getItem("userData"),t=JSON.parse(s);this.role=t.account.role;let r="http://localhost:3000/api/workplace/all/warehouse/name";await c.get(r).then(a=>{console.log(a.data),this.warehouseList=a.data.warehouseName}).catch(a=>{console.log(a)}),this.getDefaultList()},methods:{deleterFilter(){this.senderName=null,this.start=null,this.end=null,this.dialog=!1,this.orderStatus=null,this.getDefaultList()},async getListFiltered(){this.dialog=!1;let s="";this.orderStatus||(this.senderName&&(this.loading=!0,s="http://localhost:3000/api/hub/receive/all/wh",await c.post(s,{start:this.start,end:this.end,warehouseName:this.senderName}).then(t=>{console.log(t.data),this.dataList=t.data.orders,this.loading=!1}).catch(t=>{console.log(t),toast.error("???",{position:toast.POSITION.BOTTOM_RIGHT})})),this.senderName||(this.loading=!0,s="http://localhost:3000/api/hub/receive/all",await c.post(s,{start:this.start,end:this.end}).then(t=>{console.log(t.data),this.dataList=t.data.orders,this.loading=!1}).catch(t=>{console.log(t),toast.error("???",{position:toast.POSITION.BOTTOM_RIGHT})}))),this.orderStatus&&(this.senderName&&(this.loading=!0,s="http://localhost:3000/api/hub/receive/available/wh",await c.post(s,{start:this.start,end:this.end,warehouseName:this.senderName}).then(t=>{console.log(t.data),this.dataList=t.data.orders,this.loading=!1}).catch(t=>{console.log(t)})),this.senderName||(this.loading=!0,s="http://localhost:3000/api/hub/receive/available",await c.post(s,{start:this.start,end:this.end}).then(t=>{console.log(t.data),this.dataList=t.data.orders,this.loading=!1}).catch(t=>{console.log(t)})))},getDate(){const s=new Date;return s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate()},async getDefaultList(){const s=new Date,t=s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate();let r="http://localhost:3000/api/hub/receive/all";await c.post(r,{start:"2023-11-01",end:t}).then(a=>{console.log(a.data),this.dataList=a.data.orders,this.loading=!1}).catch(a=>{console.log(a),toast.error("???",{position:toast.POSITION.BOTTOM_RIGHT})})}},components:{ChipCard:H}},l=s=>(V("data-v-45e6ab75"),s=s(),B(),s),z={class:"container"},R=l(()=>o("h1",{class:"loginHeader"},"Đơn hàng nhận",-1)),j={class:"buttonList"},G=l(()=>o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z"})],-1)),A={class:"loading"},Y=["onClick"],E=l(()=>o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.2",stroke:"black",class:"w-6 h-6 icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)),J=[E],K=l(()=>o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.2",stroke:"black",class:"w-6 h-6 icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})],-1)),X={class:"text-center pt-2"},q=l(()=>o("div",{class:"popupHeader"},"Bộ lọc",-1)),Q={class:"input-container"},W=l(()=>o("label",{for:"inputState"},"Trạng thái",-1)),Z=l(()=>o("option",null,"Còn trong kho",-1)),$=[Z],tt={class:"input-container"},et=l(()=>o("label",{for:"inputState"},"Nơi gửi",-1)),ot={class:"input-container"},st=l(()=>o("label",{for:"startDate"},"Ngày bắt đầu",-1)),nt={class:"input-container"},at=l(()=>o("label",{for:"startDate"},"Ngày kết thúc",-1)),lt={class:"bottomButton"};function it(s,t,r,a,e,_){const m=d("ChipCard"),C=d("v-progress-circular"),L=d("router-link"),S=d("v-pagination"),x=d("v-data-table"),b=d("v-card"),O=d("v-dialog");return i(),f("div",z,[R,o("div",j,[e.orderStatus?(i(),p(m,{key:0,title:"Trạng thái",content:e.orderStatus},null,8,["content"])):g("",!0),e.senderName?(i(),p(m,{key:1,title:"Đến từ",content:e.senderName},null,8,["content"])):g("",!0),e.start?(i(),p(m,{key:2,title:"Bắt đầu",content:e.start},null,8,["content"])):g("",!0),e.end?(i(),p(m,{key:3,title:"Kết thúc",content:e.end},null,8,["content"])):g("",!0),o("button",{class:"signup",type:"button",onClick:t[0]||(t[0]=n=>e.dialog=!0)},[T(" Bộ lọc "),G])]),o("div",A,[e.loading?(i(),p(C,{key:0,color:"#ffa500","align-items":"center",indeterminate:"",size:34})):g("",!0)]),h(b,{flat:"",title:""},{default:u(()=>[h(x,{page:e.page,"onUpdate:page":t[2]||(t[2]=n=>e.page=n),headers:e.headers,"items-per-page":e.itemsPerPage,items:e.dataList,search:e.search},{"item.action":u(({item:n})=>[o("button",{onClick:rt=>s.deleteOrder(n.order_code)},J,8,Y),o("button",null,[h(L,{to:{name:"orderDetailbyHubStaff",params:{id:n.order_code}}},{default:u(()=>[K]),_:2},1032,["to"])])]),bottom:u(()=>[o("div",X,[h(S,{modelValue:e.page,"onUpdate:modelValue":t[1]||(t[1]=n=>e.page=n),length:_.pageCount},null,8,["modelValue","length"])])]),_:1},8,["page","headers","items-per-page","items","search"])]),_:1}),h(O,{modelValue:e.dialog,"onUpdate:modelValue":t[10]||(t[10]=n=>e.dialog=n),persistent:"",width:"1024"},{default:u(()=>[h(b,null,{default:u(()=>[q,o("div",Q,[W,v(o("select",{id:"inputState",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=n=>e.orderStatus=n)},$,512),[[k,e.orderStatus]])]),o("div",tt,[et,v(o("select",{id:"inputState",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=n=>e.senderName=n)},[(i(!0),f(D,null,I(e.warehouseList,n=>(i(),f("option",null,w(n),1))),256))],512),[[k,e.senderName]])]),o("div",ot,[st,v(o("input",{id:"startDate",class:"form-control",type:"date","onUpdate:modelValue":t[5]||(t[5]=n=>e.start=n)},null,512),[[y,e.start]])]),o("div",nt,[at,v(o("input",{id:"startDate",class:"form-control",type:"date","onUpdate:modelValue":t[6]||(t[6]=n=>e.end=n)},null,512),[[y,e.end]])]),o("div",lt,[o("button",{onClick:[t[7]||(t[7]=n=>e.dialog=!1),t[8]||(t[8]=n=>_.getListFiltered())],class:"btn btn--green-1",style:{width:"fit-content"}}," Đóng "),o("button",{onClick:t[9]||(t[9]=n=>_.deleterFilter()),class:"btn btn--green-1",style:{width:"fit-content"}}," Xóa bộ lọc ")])]),_:1})]),_:1},8,["modelValue"])])}const ct=N(U,[["render",it],["__scopeId","data-v-45e6ab75"]]);export{ct as default};
