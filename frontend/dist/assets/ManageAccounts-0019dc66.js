import{_ as k,a as d,r as n,o as _,c as w,b as t,d as b,v as x,f as l,g as c,k as y,e as T,h as I,p as L,i as C,l as M}from"./index-adea1279.js";import{l as r}from"./index-40db06c7.js";d.defaults.headers.common.authorization=localStorage.getItem("token");const N={data(){return{loading:!0,dataList:[],page:1,itemsPerPage:6,search:"",headers:[{align:"center",key:"userName",title:"Username"},{key:"email",title:"Email",align:"center"},{key:"phoneNumber",title:"SĐT",align:"center"},{key:"role",title:"Chức vụ",align:"center"},{key:"workplace",title:"Nơi làm việc",align:"center"},{title:"Chi tiết",sortable:!1,align:"center",text:"Chi tiết",value:"action"}]}},computed:{pageCount(){return Math.ceil(this.dataList.length/this.itemsPerPage)}},async created(){let a="http://localhost:3000/api/accounts/all";await d.get(a).then(e=>{console.log(e.data.staffAccounts),this.dataList=e.data.staffAccounts,this.loading=!1}).catch(e=>{console.log(e)})},methods:{deleteAccount(a){this.loading=!0;let e="http://localhost:3000/api/accounts/"+a;d.delete(e).then(i=>{console.log(i.data),console.log("delete"),this.getList(),this.loading=!0,r.success("Successfully Deleted",{position:r.POSITION.BOTTOM_RIGHT})}).catch(i=>{console.log(i),r.error("Delete failed",{position:r.POSITION.BOTTOM_RIGHT})})},getList(){let a="http://localhost:3000/api/accounts/all";d.get(a).then(e=>{console.log(e.data),this.dataList=e.data.staffAccounts,this.loading=!1}).catch(e=>{console.log(e)})}}},h=a=>(L("data-v-a4c57f4d"),a=a(),C(),a),V={class:"container"},A=h(()=>t("h1",{class:"loginHeader"},"Quản lý tài khoản",-1)),B={class:"buttonList"},O={class:"search-bar"},P=h(()=>t("button",{type:"submit"},[t("img",{src:M})],-1)),S={class:"loading"},H=["onClick"],z=h(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.2",stroke:"black",class:"w-6 h-6 icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)),D=[z],U=h(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.2",stroke:"black",class:"w-6 h-6 icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})],-1)),j={class:"text-center pt-2"};function E(a,e,i,G,o,p){const u=n("router-link"),g=n("v-progress-circular"),m=n("v-pagination"),v=n("v-data-table"),f=n("v-card");return _(),w("div",V,[A,t("div",B,[t("form",O,[b(t("input",{class:"search-box",type:"text",placeholder:"Tìm kiếm tài khoản","onUpdate:modelValue":e[0]||(e[0]=s=>o.search=s)},null,512),[[x,o.search]]),P]),l(u,{class:"signup",type:"button",to:"/supervisor/createAccount"},{default:c(()=>[I(" + Tạo tài khoản")]),_:1})]),t("div",S,[o.loading?(_(),y(g,{key:0,color:"#ffa500","align-items":"center",indeterminate:"",size:34})):T("",!0)]),l(f,{flat:"",title:""},{default:c(()=>[l(v,{page:o.page,"onUpdate:page":e[2]||(e[2]=s=>o.page=s),headers:o.headers,"items-per-page":o.itemsPerPage,items:o.dataList,search:o.search},{"item.action":c(({item:s})=>[t("button",{onClick:R=>p.deleteAccount(s._id)},D,8,H),t("button",null,[l(u,{to:{name:"accountDetail",params:{id:s._id}}},{default:c(()=>[U]),_:2},1032,["to"])])]),bottom:c(()=>[t("div",j,[l(m,{modelValue:o.page,"onUpdate:modelValue":e[1]||(e[1]=s=>o.page=s),length:p.pageCount},null,8,["modelValue","length"])])]),_:1},8,["page","headers","items-per-page","items","search"])]),_:1})])}const F=k(N,[["render",E],["__scopeId","data-v-a4c57f4d"]]);export{F as default};
