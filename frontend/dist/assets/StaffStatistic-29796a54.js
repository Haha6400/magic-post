import{_ as O,a as h,r as i,o as p,c as y,b as e,k as _,e as m,d as v,v as C,h as I,f as r,g as d,u as x,p as L,i as B,l as V}from"./index-adea1279.js";import{l}from"./index-40db06c7.js";const M={data(){return{loading:!1,dialog:!1,orderStatus:null,updateOrderDialog:!1,newOrderStatus:"",dataList:[],page:1,itemsPerPage:6,search:"",headers:[{align:"center",key:"order_code",title:"Order Code"},{key:"receiverName",title:"Người nhận",align:"center"},{key:"fee",title:"Chi phí",align:"center"},{key:"receiver_fee",title:"Phí người nhận trả",align:"center"},{key:"status",title:"Trạng thái đơn hàng",align:"center"},{title:"Chi tiết",sortable:!1,align:"center",text:"Chi tiết",value:"action"}]}},computed:{pageCount(){return Math.ceil(this.dataList.length/this.itemsPerPage)}},async created(){if(this.orderStatus){let n="http://localhost:3000/api/dashboard/send/bystatus";await h.post(n,{status:orderStatus}).then(t=>{console.log(t.data),this.dataList=t.data.result,this.loading=!1}).catch(t=>{console.log(t),l.error("???",{position:l.POSITION.BOTTOM_RIGHT})})}},methods:{deleterFilter(){this.dialog=!1,this.orderStatus=null},deleteOrder(n){console.log(n),this.loading=!0;let t="http://localhost:3000/api/orders/delete/"+n;h.delete(t).then(c=>{console.log(c.data),console.log("delete"),this.getList(),this.loading=!0,l.success("Deleted successfully",{position:l.POSITION.BOTTOM_RIGHT})}).catch(c=>{console.log(c),l.error("Delete failed",{position:l.POSITION.BOTTOM_RIGHT})})},async getList(){let n="http://localhost:3000/api/dashboard/send/bystatus";await h.post(n,{status:this.orderStatus}).then(t=>{console.log(t.data),this.dataList=t.data.result,this.loading=!1}).catch(t=>{console.log(t),l.error("???",{position:l.POSITION.BOTTOM_RIGHT})})},async getListFiltered(){this.loading=!0;let n="http://localhost:3000/api/dashboard/send/bystatus";await h.post(n,{status:this.orderStatus}).then(t=>{console.log(t.data),this.dataList=t.data.result,this.loading=!1}).catch(t=>{console.log(t),l.error("???",{position:l.POSITION.BOTTOM_RIGHT})})}},components:{ChipCard}},a=n=>(L("data-v-678d1692"),n=n(),B(),n),N={class:"container"},P=a(()=>e("h1",{class:"loginHeader"},"Thống kê",-1)),H={class:"buttonList"},R={class:"search-bar"},D=a(()=>e("button",{type:"submit"},[e("img",{src:V})],-1)),E=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z"})],-1)),U={class:"loading"},F=["onClick"],G=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.2",stroke:"black",class:"w-6 h-6 icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)),z=[G],j=a(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.2",stroke:"black",class:"w-6 h-6 icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})],-1)),A={class:"text-center pt-2"},X=a(()=>e("div",{class:"popupHeader"},"Bộ lọc",-1)),q={class:"input-container"},J=a(()=>e("label",{for:"inputState"},"Trạng thái",-1)),K=a(()=>e("option",null,"FAILURE",-1)),Q=a(()=>e("option",null,"DELIVERED",-1)),W=a(()=>e("option",null,"RETURNED",-1)),Y=[K,Q,W],Z={class:"bottomButton"};function $(n,t,c,tt,o,u){const f=i("ChipCard"),k=i("v-progress-circular"),b=i("router-link"),w=i("v-pagination"),T=i("v-data-table"),g=i("v-card"),S=i("v-dialog");return p(),y("div",N,[P,e("div",H,[o.orderStatus?(p(),_(f,{key:0,title:"Trạng thái",content:o.orderStatus},null,8,["content"])):m("",!0),e("form",R,[v(e("input",{class:"search-box",type:"text",placeholder:"Tìm kiếm trạng thái","onUpdate:modelValue":t[0]||(t[0]=s=>o.search=s)},null,512),[[C,o.search]]),D]),e("button",{class:"signup",type:"button",onClick:t[1]||(t[1]=s=>o.dialog=!0)},[I(" Bộ lọc "),E])]),e("div",U,[o.loading?(p(),_(k,{key:0,color:"#ffa500","align-items":"center",indeterminate:"",size:34})):m("",!0)]),r(g,{flat:"",title:""},{default:d(()=>[r(T,{page:o.page,"onUpdate:page":t[3]||(t[3]=s=>o.page=s),headers:o.headers,"items-per-page":o.itemsPerPage,items:o.dataList,search:o.search},{"item.action":d(({item:s})=>[e("button",{onClick:et=>u.deleteOrder(s.order_code)},z,8,F),e("button",null,[r(b,{to:{name:"orderDetailbyHubStaff",params:{id:s.order_code}}},{default:d(()=>[j]),_:2},1032,["to"])])]),bottom:d(()=>[e("div",A,[r(w,{modelValue:o.page,"onUpdate:modelValue":t[2]||(t[2]=s=>o.page=s),length:u.pageCount},null,8,["modelValue","length"])])]),_:1},8,["page","headers","items-per-page","items","search"])]),_:1}),r(S,{modelValue:o.dialog,"onUpdate:modelValue":t[8]||(t[8]=s=>o.dialog=s),persistent:"",width:"800"},{default:d(()=>[r(g,null,{default:d(()=>[X,e("div",q,[J,v(e("select",{id:"inputState",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=s=>o.orderStatus=s)},Y,512),[[x,o.orderStatus]])]),e("div",Z,[e("button",{onClick:[t[5]||(t[5]=s=>o.dialog=!1),t[6]||(t[6]=s=>u.getListFiltered())],class:"btn btn--green-1",style:{width:"fit-content"}}," Đóng "),e("button",{onClick:t[7]||(t[7]=s=>u.deleterFilter()),class:"btn btn--green-1",style:{width:"fit-content"}}," Xóa bộ lọc ")])]),_:1})]),_:1},8,["modelValue"])])}const nt=O(M,[["render",$],["__scopeId","data-v-678d1692"]]);export{nt as default};
