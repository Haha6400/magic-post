import{_ as x,a as c,r as n,o as d,c as h,b as o,d as u,v as g,k as y,e as V,f as i,g as l,h as B,t as _,u as L,F as N,s as C,p as S,i as T,l as H}from"./index-adea1279.js";c.defaults.headers.common.authorization=localStorage.getItem("token");const I={data(){return{dialog:!1,loading:!0,dataList:[],warehouseList:[],page:1,itemsPerPage:6,search:"",headers:[{text:"1",value:"num",title:"Số thứ tự",sortable:!1},{key:"name",title:"Tên điểm giao dịch",align:"center"},{key:"higherBranchName",title:"Tên điểm tập kết",align:"center"},{title:"Chi tiết",sortable:!1,align:"center",text:"Chi tiết",value:"action"}],higherBranchName:"",name:""}},computed:{pageCount(){return Math.ceil(this.dataList.length/this.itemsPerPage)}},async created(){let s="http://localhost:3000/api/workplace/all/hub";await c.get(s).then(e=>{console.log(e.data),this.dataList=e.data.hub,this.loading=!1}).catch(e=>{console.log(e)}),s="http://localhost:3000/api/workplace/all/warehouse",await c.get(s).then(e=>{console.log(e.data),this.warehouseList=e.data.allWarehouse}).catch(e=>{console.log(e)})},methods:{async createHub(){let s="http://localhost:3000/api/workplace/create/hub";console.log(this.higherBranchName),await c.post(s,{name:this.name,higherBranchName:this.higherBranchName}).then(e=>{console.log(e.data),this.dialog=!1,this.getList()}).catch(e=>{console.log(e)})},async getList(){let s="http://localhost:3000/api/workplace/all/hub";await c.get(s).then(e=>{console.log(e.data),this.dataList=e.data.hub,this.loading=!1}).catch(e=>{console.log(e)})}}},r=s=>(S("data-v-e3654510"),s=s(),T(),s),M={class:"container"},P=r(()=>o("h1",{class:"loginHeader"},"Quản lý điểm giao dịch",-1)),U={class:"buttonList"},z={class:"search-bar"},E=r(()=>o("button",{type:"submit"},[o("img",{src:H})],-1)),D={class:"loading"},F=r(()=>o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.2",stroke:"black",class:"w-6 h-6 icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})],-1)),j={class:"text-center pt-2"},q=r(()=>o("div",{class:"popupHeader"},"Tạo điểm giao dịch mới",-1)),Q={class:"input-container"},W=r(()=>o("label",{for:"inputState"},"Tên điểm thập kết cha",-1)),A=["value"],G={class:"input-container"},J=r(()=>o("label",{for:"exampleInputEmail1",class:"form-label"},"Tên điểm giao dịch",-1)),K={class:"bottomButton"};function O(s,e,R,X,a,p){const v=n("v-progress-circular"),b=n("router-link"),f=n("v-pagination"),k=n("v-data-table"),m=n("v-card"),w=n("v-dialog");return d(),h("div",M,[P,o("div",U,[o("form",z,[u(o("input",{class:"search-box",type:"text",placeholder:"Tìm kiếm","onUpdate:modelValue":e[0]||(e[0]=t=>a.search=t)},null,512),[[g,a.search]]),E]),o("button",{class:"signup",type:"button",onClick:e[1]||(e[1]=t=>a.dialog=!0)},"+ Tạo điểm mới")]),o("div",D,[a.loading?(d(),y(v,{key:0,color:"#ffa500","align-items":"center",indeterminate:"",size:34})):V("",!0)]),i(m,{flat:"",title:""},{default:l(()=>[i(k,{page:a.page,"onUpdate:page":e[3]||(e[3]=t=>a.page=t),headers:a.headers,"items-per-page":a.itemsPerPage,items:a.dataList,search:a.search},{"item.num":l(({index:t})=>[B(_(t+1),1)]),"item.action":l(({item:t})=>[o("button",null,[i(b,{to:{name:"workplaceStatistics",params:{id:t._id}}},{default:l(()=>[F]),_:2},1032,["to"])])]),bottom:l(()=>[o("div",j,[i(f,{modelValue:a.page,"onUpdate:modelValue":e[2]||(e[2]=t=>a.page=t),length:p.pageCount},null,8,["modelValue","length"])])]),_:1},8,["page","headers","items-per-page","items","search"])]),_:1}),i(w,{modelValue:a.dialog,"onUpdate:modelValue":e[8]||(e[8]=t=>a.dialog=t),persistent:"",width:"1024"},{default:l(()=>[i(m,null,{default:l(()=>[q,o("div",Q,[W,u(o("select",{id:"inputState",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=t=>a.higherBranchName=t)},[(d(!0),h(N,null,C(a.warehouseList,t=>(d(),h("option",{value:t.name,key:t._id},_(t.name),9,A))),128))],512),[[L,a.higherBranchName]])]),o("div",G,[J,u(o("input",{class:"form-control",id:"exampleInputEmail1","onUpdate:modelValue":e[5]||(e[5]=t=>a.name=t),required:""},null,512),[[g,a.name]])]),o("div",K,[o("button",{onClick:e[6]||(e[6]=t=>a.dialog=!1),class:"btn btn--green-1",style:{width:"fit-content"}}," Đóng "),o("button",{onClick:e[7]||(e[7]=t=>p.createHub()),class:"btn btn--green-1",style:{width:"fit-content"}}," Lưu ")])]),_:1})]),_:1},8,["modelValue"])])}const Z=x(I,[["render",O],["__scopeId","data-v-e3654510"]]);export{Z as default};
