import{_ as k,a as d,r as l,o as _,c as w,b as t,d as b,v as T,f as c,g as i,k as x,e as y,h as I,p as M,i as O,l as B}from"./index-adea1279.js";import{l as n}from"./index-40db06c7.js";d.defaults.headers.common.authorization=localStorage.getItem("token");const L={data(){return{loading:!0,dataList:[],page:1,itemsPerPage:6,search:"",headers:[{align:"center",key:"userName",title:"Username"},{key:"email",title:"Email",align:"center"},{key:"phoneNumber",title:"SĐT",align:"center"},{key:"role",title:"Chức vụ",align:"center"},{title:"Chi tiết",sortable:!1,align:"center",text:"Chi tiết",value:"action"}]}},computed:{pageCount(){return Math.ceil(this.dataList.length/this.itemsPerPage)}},async created(){let a="http://localhost:3000/api/accounts/wp";await d.get(a).then(e=>{console.log(e.data.staffAccounts),this.dataList=e.data.staffAccounts,this.loading=!1}).catch(e=>{console.log(e)})},methods:{deleteAccount(a){this.loading=!0;let e="http://localhost:3000/api/accounts/"+a;d.delete(e).then(r=>{console.log(r.data),console.log("delete"),this.getList(),this.loading=!0,n.success("Deleted successfully",{position:n.POSITION.BOTTOM_RIGHT})}).catch(r=>{console.log(r),n.error("Delete failed",{position:n.POSITION.BOTTOM_RIGHT})})},getList(){let a="http://localhost:3000/api/accounts/wp";d.get(a).then(e=>{console.log(e.data),this.dataList=e.data.staffAccounts,this.loading=!1}).catch(e=>{console.log(e),n.error("???",{position:n.POSITION.BOTTOM_RIGHT})})}}},p=a=>(M("data-v-317fe8bf"),a=a(),O(),a),C={class:"container"},N=p(()=>t("h1",{class:"loginHeader"},"Quản lý tài khoản",-1)),P={class:"buttonList"},V={class:"search-bar"},A=p(()=>t("button",{type:"submit"},[t("img",{src:B})],-1)),S={class:"loading"},H=["onClick"],z=p(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.2",stroke:"black",class:"w-6 h-6 icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)),D=[z],U=p(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.2",stroke:"black",class:"w-6 h-6 icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})],-1)),G={class:"text-center pt-2"};function R(a,e,r,j,o,h){const u=l("router-link"),g=l("v-progress-circular"),m=l("v-pagination"),f=l("v-data-table"),v=l("v-card");return _(),w("div",C,[N,t("div",P,[t("form",V,[b(t("input",{class:"search-box",type:"text",placeholder:"Tìm kiếm tài khoản","onUpdate:modelValue":e[0]||(e[0]=s=>o.search=s)},null,512),[[T,o.search]]),A]),c(u,{class:"signup",type:"button",to:"/manager/createAccount"},{default:i(()=>[I(" + Tạo tài khoản")]),_:1})]),t("div",S,[o.loading?(_(),x(g,{key:0,color:"#ffa500","align-items":"center",indeterminate:"",size:34})):y("",!0)]),c(v,{flat:"",title:""},{default:i(()=>[c(f,{page:o.page,"onUpdate:page":e[2]||(e[2]=s=>o.page=s),headers:o.headers,"items-per-page":o.itemsPerPage,items:o.dataList,search:o.search},{"item.action":i(({item:s})=>[t("button",{onClick:E=>h.deleteAccount(s._id)},D,8,H),t("button",null,[c(u,{to:{name:"accountDetail",params:{id:s._id}}},{default:i(()=>[U]),_:2},1032,["to"])])]),bottom:i(()=>[t("div",G,[c(m,{modelValue:o.page,"onUpdate:modelValue":e[1]||(e[1]=s=>o.page=s),length:h.pageCount},null,8,["modelValue","length"])])]),_:1},8,["page","headers","items-per-page","items","search"])]),_:1})])}const F=k(L,[["render",R],["__scopeId","data-v-317fe8bf"]]);export{F as default};
